(this.webpackJsonpcakes=this.webpackJsonpcakes||[]).push([[0],{32:function(e,a,t){e.exports=t(53)},37:function(e,a,t){},53:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(20),s=t.n(l),c=(t(37),t(28)),i=t(10);function o(e){return e.toLocaleString("en-US",{style:"currency",currency:"USD"})}function u(e){return e[Math.floor(Math.random()*e.length)]}function m(){var e=["adorable","beautiful","clean","drab","elegant","fancy","glamorous","handsome","long","magnificent","old-fashioned","plain","quaint","sparkling","ugliest","unsightly","angry","bewildered","clumsy","defeated","embarrassed","fierce","grumpy","helpless","itchy","jealous","lazy","mysterious","nervous","obnoxious","panicky","repulsive","scary","thoughtless","uptight","worried"];return"".concat(u(e),"-").concat(u(e),"-").concat(u(["women","men","children","teeth","feet","people","leaves","mice","geese","halves","knives","wives","lives","elves","loaves","potatoes","tomatoes","cacti","foci","fungi","nuclei","syllabuses","analyses","diagnoses","oases","theses","crises","phenomena","criteria","data"]))}var d=function(e){var a=r.a.createRef();return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"store-selector",onSubmit:function(t){return function(t){t.preventDefault(),e.history.push("/store/".concat(a.current.value))}(t)}},r.a.createElement("h2",null,"Please Enter A Store"),r.a.createElement("input",{type:"text",ref:a,required:!0,placeholder:"Store Name",defaultValue:m()}),r.a.createElement("button",{type:"submit"},"Visit Store \u2192")))},p=t(14),h=t(15),f=t(13),b=t(11),g=t.n(b),v=g.a.initializeApp({apiKey:"AIzaSyDYqA6n6nNWA1m288MRI0VfUU2dHrqijyI",authDomain:"cakes-3516d.firebaseapp.com",databaseURL:"https://cakes-3516d.firebaseio.com"}),E=g.a,y=function(e){var a=e.tagline;return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"top"},r.a.createElement("h1",null,"Catch",r.a.createElement("span",{className:"ofThe"},r.a.createElement("span",{className:"of"},"of"),r.a.createElement("span",{className:"the"},"the")),"Day"),r.a.createElement("h3",{className:"tagline"},r.a.createElement("span",null,a))))},k=t(55),N=t(56),w=function(e){var a,t=e.order,n=e.fishes,l=e.removeFromOrder,s=0;return t&&n&&(s=(a=Object.keys(t)).reduce((function(e,a){var r=n[a],l=t[a];return r&&"available"===r.status?e+l*r.price:e}),0)),r.a.createElement("div",{className:"order-wrap"},r.a.createElement("h2",null,"Order"),r.a.createElement(N.a,{component:"ul",className:"order"},a&&a.map((function(e){return function(e){var a=n[e],s=t[e],c=a&&"available"===a.status,i={classNames:"order",key:e,timeout:{enter:500,exit:500}};return a?c?r.a.createElement(k.a,i,r.a.createElement("li",{key:e},r.a.createElement("span",{className:"order-span"},r.a.createElement("span",null,r.a.createElement(N.a,{component:"span",className:"count"},r.a.createElement(k.a,{classNames:"count",key:s,timeout:{enter:500,exit:500}},r.a.createElement("span",null,s))),"lbs ",a.name," ",o(s*a.price)),r.a.createElement("button",{type:"button",className:"delete",onClick:function(){l(e)}},"\xd7")))):r.a.createElement(k.a,i,r.a.createElement("li",{key:e},"Sorry ",a?a.name:"fish"," is no longer available")):null}(e)}))),r.a.createElement("div",{className:"total"},"Total: ",r.a.createElement("strong",null,o(s))))},j=t(17),O=t.n(j),S=function(e){var a=e.addFish,t=r.a.createRef(),n=r.a.createRef(),l=r.a.createRef(),s=r.a.createRef(),c=r.a.createRef();return r.a.createElement("form",{className:"fish-edit",onSubmit:function(e){return function(e){e.preventDefault();"fish".concat(Date.now());var r={name:t.current.value,price:parseFloat(n.current.value),status:l.current.value,desc:s.current.value,image:c.current.value};a(r),e.currentTarget.reset()}(e)}},r.a.createElement("input",{type:"text",name:"name",ref:t,required:!0,placeholder:"Name"}),r.a.createElement("input",{type:"number",name:"price",ref:n,required:!0,placeholder:"Price"}),r.a.createElement("select",{name:"status",ref:l,required:!0},r.a.createElement("option",{value:"available"},"Fresh!"),r.a.createElement("option",{value:"unavailable"},"Sold Out!")),r.a.createElement("textarea",{name:"desc",ref:s,required:!0,placeholder:"Description"}),r.a.createElement("input",{type:"text",name:"image",ref:c,required:!0,placeholder:"image"}),r.a.createElement("button",{type:"submit"},"+ Add Fish"))},F=function(e){var a=e.fish,t=a.name,n=a.price,l=a.status,s=a.desc,c=a.image,i=e.updateFish,o=e.deleteFish,u=e.index;function m(a){var t=Object(h.a)({},e.fish,Object(p.a)({},a.target.name,a.target.value));i(e.index,t)}return r.a.createElement("div",{className:"fish-edit"},r.a.createElement("input",{name:"name",type:"text",placeholder:"Name",required:!0,value:t,onChange:m}),r.a.createElement("input",{name:"price",type:"number",placeholder:"Price",required:!0,value:n,onChange:m}),r.a.createElement("select",{name:"status",onChange:m,value:l},r.a.createElement("option",{value:"available"},"Fresh!"),r.a.createElement("option",{value:"unavailable"},"Sold Out!")),r.a.createElement("textarea",{name:"desc",placeholder:"Desc",required:!0,value:s,onChange:m}),r.a.createElement("input",{name:"image",type:"text",placeholder:"Image",required:!0,value:c,onChange:m}),r.a.createElement("button",{type:"button",onClick:function(){o(u)}},"Remove Fish"))},x=function(e){var a=e.authenticate;return r.a.createElement("nav",{className:"login"},r.a.createElement("h2",null,"Inventory Login"),r.a.createElement("p",null,"Sign in to manage your store's inventory."),r.a.createElement("button",{type:"button",className:"github",onClick:function(){a("Github")}}," ","Log In With GitHub"," "),r.a.createElement("button",{type:"button",className:"twitter",onClick:function(){a("Twitter")}}," ","Log In With Twitter"," "),r.a.createElement("button",{type:"button",className:"facebook",onClick:function(){a("Facebook")}}," ","Log In With Facebook"," "),r.a.createElement("button",{type:"button",className:"github",onClick:function(){a("Google")}}," ","Log In With Google"," "))},C=function(e){var a=e.storeId,t=e.addFish,l=e.updateFish,s=e.deleteFish,c=e.loadSampleFishes,i=e.fishes,o=Object(n.useState)(null),u=Object(f.a)(o,2),m=u[0],d=u[1],p=Object(n.useState)(null),h=Object(f.a)(p,2),b=h[0],E=h[1],y=Object(n.useState)(null),k=Object(f.a)(y,2),N=k[0],w=k[1],j=g.a.database().ref(a),C=Object(n.useCallback)((function(e){var a,t,n;return O.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return a=e.user.uid,E(a),t=e.user.photoURL,w(t),r.next=6,O.a.awrap(j.child("owner").once("value").then((function(e){return e.val()})));case 6:(n=r.sent)||j.update({owner:a}),d(n);case 9:case"end":return r.stop()}}))}),[j]);Object(n.useEffect)((function(){g.a.auth().onAuthStateChanged((function(e){e&&C({user:e})}))}),[C]);var I=r.a.createElement("button",{type:"button",className:"logout",onClick:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(g.a.auth().signOut());case 2:E(null);case 3:case"end":return e.stop()}}))}},"Log Out"),q=r.a.createElement("img",{src:N,alt:"user"});return b?m&&b!==m?r.a.createElement("div",{className:"inventory"},I,r.a.createElement("h3",null,"Sorry, you are not the owner of this store...",r.a.createElement("br",null),r.a.createElement("br",null),"go to the homepage to create a new store just for you!")):m&&b&&m===b?r.a.createElement("div",{className:"inventory"},r.a.createElement("h2",null,"Inventory"),r.a.createElement("div",{className:"inventory-top"},I,q),i&&Object.keys(i).map((function(e){return r.a.createElement(F,{key:e,fish:i[e],updateFish:l,deleteFish:s,index:e})})),r.a.createElement(S,{addFish:t}),r.a.createElement("button",{type:"button",onClick:c},"Load Sample Fishes")):r.a.createElement("div",null,"loading..."):r.a.createElement(x,{authenticate:function(e){var a=new(g.a.auth["".concat(e,"AuthProvider")]);v.auth().signInWithPopup(a).then(C)}})},I=[{name:"Pacific Halibut",image:"/images/hali.jpg",desc:"Everyones favorite white fish. We will cut it to the size you need and ship it.",price:17.24,status:"available"},{name:"Lobster",image:"/images/lobster.jpg",desc:"These tender, mouth-watering beauties are a fantastic hit at any dinner party.",price:32,status:"available"},{name:"Sea Scallops",image:"/images/scallops.jpg",desc:"Big, sweet and tender. True dry-pack scallops from the icey waters of Alaska. About 8-10 per pound",price:16.84,status:"unavailable"},{name:"Mahi Mahi",image:"/images/mahi.jpg",desc:"Lean flesh with a mild, sweet flavor profile, moderately firm texture and large, moist flakes. ",price:11.29,status:"available"},{name:"King Crab",image:"/images/crab.jpg",desc:"Crack these open and enjoy them plain or with one of our cocktail sauces",price:42.34,status:"available"},{name:"Atlantic Salmon",image:"/images/salmon.jpg",desc:"This flaky, oily salmon is truly the king of the sea. Bake it, grill it, broil it...as good as it gets!",price:14.53,status:"available"},{name:"Oysters",image:"/images/oysters.jpg",desc:"A soft plump oyster with a sweet salty flavor and a clean finish.",price:25.43,status:"available"},{name:"Mussels",image:"/images/mussels.jpg",desc:"The best mussels from the Pacific Northwest with a full-flavored and complex taste.",price:4.25,status:"available"},{name:"Jumbo Prawns",image:"/images/prawns.jpg",desc:"With 21-25 two bite prawns in each pound, these sweet morsels are perfect for shish-kabobs.",price:22.5,status:"available"}],q=function(e){var a=e.details,t=a.name,n=a.price,l=a.status,s=a.desc,c=a.image,i=e.addToOrder,u=e.index,m="available"===l;return r.a.createElement("li",{className:"menu-fish"},r.a.createElement("img",{src:c,alt:t}),r.a.createElement("h3",{className:"fish-name"},t," ",r.a.createElement("span",{className:"price"},n&&o(n))),r.a.createElement("p",null,s),r.a.createElement("button",{type:"button",disabled:!m,onClick:function(){i(u)}},m?"Add To Cart":"Sold Out!"))},A=function(e){var a=e.match.params.storeId,t=Object(n.useState)({}),l=Object(f.a)(t,2),s=l[0],c=l[1],i=Object(n.useState)(JSON.parse(localStorage.getItem(a))||{}),o=Object(f.a)(i,2),u=o[0],m=o[1],d=E.database().ref("".concat(a,"/fishes/"));Object(n.useEffect)((function(){return d.on("value",(function(e){c(e.val())})),function(){d.off()}}),[d]),Object(n.useEffect)((function(){localStorage.setItem(a,JSON.stringify(u))}),[u,a]);var b=function(e){var t={};t[E.database().ref(a).child("fishes").push().key]=e,d.update(t)},g=function(e){m(Object(h.a)({},u,Object(p.a)({},e,u[e]+1||1)))},v=function(e){var a=Object(h.a)({},u);delete a[e],m(a)};return r.a.createElement("div",{className:"cakes"},r.a.createElement("div",{className:"menu"},r.a.createElement(y,{tagline:"fresh seafood market"}),r.a.createElement("ul",{className:"fishes"},s&&Object.keys(s).map((function(e){return r.a.createElement(q,{key:e,index:e,details:s[e],addToOrder:g})})))),r.a.createElement(w,{fishes:s,order:u,removeFromOrder:v}),r.a.createElement(C,{storeId:a,fishes:s,addFish:b,loadSampleFishes:function(){I.map((function(e){return b(e)}))},updateFish:function(e,a){var t=Object(h.a)({},s);t[e]=a,d.update(t)},deleteFish:function(e){d.child(e).remove(),v(e)}}))},L=function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Not Found!!!"))},T=function(){return r.a.createElement(c.a,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:d}),r.a.createElement(i.a,{path:"/store/:storeId",component:A}),r.a.createElement(i.a,{component:L})))};s.a.render(r.a.createElement(T,null),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.f3af85e6.chunk.js.map